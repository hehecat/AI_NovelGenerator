# ğŸ“– è‡ªåŠ¨å°è¯´ç”Ÿæˆå·¥å…·

>- ç›®å‰å¼€å­¦äº†ï¼Œæ²¡ä»€ä¹ˆæ—¶é—´ç»´æŠ¤è¯¥é¡¹ç›®ï¼Œåç»­æ›´æ–°å¯èƒ½å¾—ç­‰é•¿å‡æ‰èƒ½ç»§ç»­

<div align="center">
  
âœ¨ **æ ¸å¿ƒåŠŸèƒ½** âœ¨

| åŠŸèƒ½æ¨¡å—          | å…³é”®èƒ½åŠ›                          |
|-------------------|----------------------------------|
| ğŸ¨ å°è¯´è®¾å®šå·¥åŠ    | ä¸–ç•Œè§‚æ¶æ„ / è§’è‰²è®¾å®š / å‰§æƒ…è“å›¾   |
| ğŸ“– æ™ºèƒ½ç« èŠ‚ç”Ÿæˆ    | å¤šé˜¶æ®µç”Ÿæˆä¿éšœå‰§æƒ…è¿è´¯æ€§           |
| ğŸ§  çŠ¶æ€è¿½è¸ªç³»ç»Ÿ    | è§’è‰²å‘å±•è½¨è¿¹ / ä¼ç¬”ç®¡ç†ç³»ç»Ÿ         |
| ğŸ” è¯­ä¹‰æ£€ç´¢å¼•æ“    | åŸºäºå‘é‡çš„é•¿ç¨‹ä¸Šä¸‹æ–‡ä¸€è‡´æ€§ç»´æŠ¤      |
| ğŸ“š çŸ¥è¯†åº“é›†æˆ      | æ”¯æŒæœ¬åœ°æ–‡æ¡£å‚è€ƒ         |
| âœ… è‡ªåŠ¨å®¡æ ¡æœºåˆ¶    | æ£€æµ‹å‰§æƒ…çŸ›ç›¾ä¸é€»è¾‘å†²çª          |
| ğŸ–¥ å¯è§†åŒ–å·¥ä½œå°    | å…¨æµç¨‹GUIæ“ä½œï¼Œé…ç½®/ç”Ÿæˆ/å®¡æ ¡ä¸€ä½“åŒ– |

</div>

> ä¸€æ¬¾åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„å¤šåŠŸèƒ½å°è¯´ç”Ÿæˆå™¨ï¼ŒåŠ©æ‚¨é«˜æ•ˆåˆ›ä½œé€»è¾‘ä¸¥è°¨ã€è®¾å®šç»Ÿä¸€çš„é•¿ç¯‡æ•…äº‹

2025-03-05 æ·»åŠ è§’è‰²åº“åŠŸèƒ½

2025-03-09 æ·»åŠ å­—æ•°æ˜¾ç¤º

2025-03-13 
1ã€æ–°å¢é—²äº‘ä¿®æ”¹ï¼›
2ã€æŠŠæœ¬ç« æŒ‡å¯¼æ”¹æˆå†…å®¹æŒ‡å¯¼ï¼›
3ã€åœ¨ç”Ÿæˆæ¶æ„ä¸­çš„ï¼š 2. è§’è‰²åŠ¨åŠ›å­¦è®¾å®šï¼ˆè§’è‰²å¼§å…‰æ¨¡å‹ï¼‰ã€ 3. ä¸–ç•Œæ„å»ºçŸ©é˜µï¼ˆä¸‰ç»´åº¦äº¤ç»‡æ³•ï¼‰ã€ 4. æƒ…èŠ‚æ¶æ„ï¼ˆä¸‰å¹•å¼æ‚¬å¿µï¼‰ä¸ç”Ÿæˆç›®å½•çš„ï¼š5. ç« èŠ‚ç›®å½•ç”Ÿæˆï¼ˆæ‚¬å¿µèŠ‚å¥æ›²çº¿ï¼‰åŠ å…¥å¼•å¯¼è¯å†…å®¹æŒ‡å¯¼ï¼Œä»¥æ–¹ä¾¿ç”Ÿæˆè§’è‰²åŠ¨åŠ›å­¦æ—¶åªä»¥æ ¸å¿ƒç§å­ç”Ÿæˆï¼Œå¯¼è‡´ç”Ÿæˆçš„å†…å®¹ä¸å®é™…éœ€æ±‚ä¸ç¬¦ã€‚
4ã€åœ¨ç»ˆç«¯åŠ å›è¢«åˆ é™¤çš„LLMæç¤ºè¯ä¸LLMè¿”å›å†…å®¹æ˜¾ç¤ºï¼Œä»¥ä¾¿å¤ç›˜ï¼Œå‚è€ƒä¿®æ”¹æç¤ºè¯ã€‚
---

## ğŸ“‘ ç›®å½•å¯¼èˆª
1. [ç¯å¢ƒå‡†å¤‡](#-ç¯å¢ƒå‡†å¤‡)  
2. [é¡¹ç›®æ¶æ„](#-é¡¹ç›®æ¶æ„)  
3. [é…ç½®æŒ‡å—](#âš™ï¸-é…ç½®æŒ‡å—)  
4. [è¿è¡Œè¯´æ˜](#ğŸš€-è¿è¡Œè¯´æ˜)  
5. [ä½¿ç”¨æ•™ç¨‹](#ğŸ“˜-ä½¿ç”¨æ•™ç¨‹)  
6. [ç–‘éš¾è§£ç­”](#â“-ç–‘éš¾è§£ç­”)  

---

## ğŸ›  ç¯å¢ƒå‡†å¤‡
ç¡®ä¿æ»¡è¶³ä»¥ä¸‹è¿è¡Œæ¡ä»¶ï¼š
- **Python 3.9+** è¿è¡Œç¯å¢ƒï¼ˆæ¨è3.10-3.12ä¹‹é—´ï¼‰
- **pip** åŒ…ç®¡ç†å·¥å…·
- æœ‰æ•ˆAPIå¯†é’¥ï¼š
  - äº‘ç«¯æœåŠ¡ï¼šOpenAI / DeepSeek ç­‰
  - æœ¬åœ°æœåŠ¡ï¼šOllama ç­‰å…¼å®¹ OpenAI çš„æ¥å£

---


## ğŸ“¥ å®‰è£…è¯´æ˜
1. **ä¸‹è½½é¡¹ç›®**  
   - é€šè¿‡ [GitHub](https://github.com) ä¸‹è½½é¡¹ç›® ZIP æ–‡ä»¶ï¼Œæˆ–ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å…‹éš†æœ¬é¡¹ç›®ï¼š
     ```bash
     git clone https://github.com/YILING0013/AI_NovelGenerator
     ```

2. **å®‰è£…ç¼–è¯‘å·¥å…·ï¼ˆå¯é€‰ï¼‰**  
   - å¦‚æœå¯¹æŸäº›åŒ…æ— æ³•æ­£å¸¸å®‰è£…ï¼Œè®¿é—® [Visual Studio Build Tools](https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/) ä¸‹è½½å¹¶å®‰è£…C++ç¼–è¯‘å·¥å…·ï¼Œç”¨äºæ„å»ºéƒ¨åˆ†æ¨¡å—åŒ…ï¼›
   - å®‰è£…æ—¶ï¼Œé»˜è®¤åªåŒ…å« MSBuild å·¥å…·ï¼Œéœ€æ‰‹åŠ¨å‹¾é€‰å·¦ä¸Šè§’åˆ—è¡¨æ ä¸­çš„ **C++ æ¡Œé¢å¼€å‘** é€‰é¡¹ã€‚

3. **å®‰è£…ä¾èµ–å¹¶è¿è¡Œ**  
   - æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥é¡¹ç›®æºæ–‡ä»¶ç›®å½•ï¼š
     ```bash
     cd AI_NovelGenerator
     ```
   - å®‰è£…é¡¹ç›®ä¾èµ–ï¼š
     ```bash
     pip install -r requirements.txt
     ```
   - å®‰è£…å®Œæˆåï¼Œè¿è¡Œä¸»ç¨‹åºï¼š
     ```bash
     python main.py
     ```

>å¦‚æœç¼ºå¤±éƒ¨åˆ†ä¾èµ–ï¼Œåç»­**æ‰‹åŠ¨æ‰§è¡Œ**
>```bash
>pip install XXX
>```
>è¿›è¡Œå®‰è£…å³å¯

## ğŸ—‚ é¡¹ç›®æ¶æ„
```
novel-generator/
â”œâ”€â”€ main.py                      # å…¥å£æ–‡ä»¶, è¿è¡Œ GUI
â”œâ”€â”€ ui.py                        # å›¾å½¢ç•Œé¢
â”œâ”€â”€ novel_generator.py           # ç« èŠ‚ç”Ÿæˆæ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ consistency_checker.py       # ä¸€è‡´æ€§æ£€æŸ¥, é˜²æ­¢å‰§æƒ…å†²çª
|â€”â€” chapter_directory_parser.py  # ç›®å½•è§£æ
|â€”â€” embedding_adapters.py        # Embedding æ¥å£å°è£…
|â€”â€” llm_adapters.py              # LLM æ¥å£å°è£…
â”œâ”€â”€ prompt_definitions.py        # å®šä¹‰ AI æç¤ºè¯
â”œâ”€â”€ utils.py                     # å¸¸ç”¨å·¥å…·å‡½æ•°, æ–‡ä»¶æ“ä½œ
â”œâ”€â”€ config_manager.py            # ç®¡ç†é…ç½® (API Key, Base URL)
â”œâ”€â”€ config.json                  # ç”¨æˆ·é…ç½®æ–‡ä»¶ (å¯é€‰)
â””â”€â”€ vectorstore/                 # (å¯é€‰) æœ¬åœ°å‘é‡æ•°æ®åº“å­˜å‚¨
```

---

## âš™ï¸ é…ç½®æŒ‡å—
### ğŸ“Œ åŸºç¡€é…ç½®ï¼ˆconfig.jsonï¼‰
```json
{
    "api_key": "sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "base_url": "https://api.openai.com/v1",
    "interface_format": "OpenAI",
    "model_name": "gpt-4o-mini",
    "temperature": 0.7,
    "max_tokens": 4096,
    "embedding_api_key": "sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",
    "embedding_interface_format": "OpenAI",
    "embedding_url": "https://api.openai.com/v1",
    "embedding_model_name": "text-embedding-ada-002",
    "embedding_retrieval_k": 4,
    "topic": "æ˜Ÿç©¹é“é“ä¸»è§’æ˜Ÿç©¿è¶Šåˆ°åŸç¥æç“¦ç‰¹å¤§é™†ï¼Œæ‹¯æ•‘æç“¦ç‰¹å¤§é™†ï¼Œå¹¶ä¸å…¶ä¸­çš„è§’è‰²å±•å¼€çˆ±æ¨æƒ…ä»‡çš„å°è¯´",
    "genre": "ç„å¹»",
    "num_chapters": 120,
    "word_number": 4000,
    "filepath": "D:/AI_NovelGenerator/filepath"
}
```

### ğŸ”§ é…ç½®è¯´æ˜
1. **ç”Ÿæˆæ¨¡å‹é…ç½®**
   - `api_key`: å¤§æ¨¡å‹æœåŠ¡çš„APIå¯†é’¥
   - `base_url`: APIç»ˆç«¯åœ°å€ï¼ˆæœ¬åœ°æœåŠ¡å¡«Ollamaç­‰åœ°å€ï¼‰
   - `interface_format`: æ¥å£æ¨¡å¼
   - `model_name`: ä¸»ç”Ÿæˆæ¨¡å‹åç§°ï¼ˆå¦‚gpt-4, claude-3ç­‰ï¼‰
   - `temperature`: åˆ›æ„åº¦å‚æ•°ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šæœ‰åˆ›é€ æ€§ï¼‰
   - `max_tokens`: æ¨¡å‹æœ€å¤§å›å¤é•¿åº¦

2. **Embeddingæ¨¡å‹é…ç½®**
   - `embedding_model_name`: æ¨¡å‹åç§°ï¼ˆå¦‚Ollamaçš„nomic-embed-textï¼‰
   - `embedding_url`: æœåŠ¡åœ°å€
   - `embedding_retrieval_k`: 

3. **å°è¯´å‚æ•°é…ç½®**
   - `topic`: æ ¸å¿ƒæ•…äº‹ä¸»é¢˜
   - `genre`: ä½œå“ç±»å‹
   - `num_chapters`: æ€»ç« èŠ‚æ•°
   - `word_number`: å•ç« ç›®æ ‡å­—æ•°
   - `filepath`: ç”Ÿæˆæ–‡ä»¶å­˜å‚¨è·¯å¾„

---

## ğŸš€ è¿è¡Œè¯´æ˜
### **æ–¹å¼ 1ï¼šä½¿ç”¨ Python è§£é‡Šå™¨ (GUI)**
```bash
python main.py
```
æ‰§è¡Œåï¼ŒGUI å°†ä¼šå¯åŠ¨ï¼Œä½ å¯ä»¥åœ¨å›¾å½¢ç•Œé¢ä¸­è¿›è¡Œå„é¡¹æ“ä½œã€‚

### **æ–¹å¼ 2ï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…· (CLI)**
æ–°å¢çš„ CLI å·¥å…·æä¾›äº†é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æ§åˆ¶å°è¯´ç”Ÿæˆçš„å„é¡¹åŠŸèƒ½ã€‚è¯·ç¡®ä¿æ‚¨å·²æŒ‰ç…§ [ç¯å¢ƒå‡†å¤‡](#-ç¯å¢ƒå‡†å¤‡) éƒ¨åˆ†çš„è¦æ±‚é…ç½®å¥½ç¯å¢ƒã€‚

**åŸºæœ¬ç”¨æ³•:**
```bash
python cli.py <command> [options]
```

**å¯ç”¨å‘½ä»¤:**

1.  **é…ç½®ç®¡ç† (`config`)**
    *   æ˜¾ç¤ºå½“å‰é…ç½®: `python cli.py config --show`
    *   è®¾ç½®é…ç½®é¡¹: `python cli.py config --set <KEY> <VALUE>`
        ä¾‹å¦‚: `python cli.py config --set api_key YOUR_OPENAI_API_KEY`
        é…ç½®æ–‡ä»¶é»˜è®¤ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `config.json`ã€‚

2.  **ç”Ÿæˆå°è¯´æ¶æ„ (`generate-architecture`)**
    ```bash
    python cli.py generate-architecture --topic "èµ›åšæœ‹å…‹ä¾¦æ¢æ•…äº‹" --genre "ç§‘å¹»æ‚¬ç–‘" --filepath "./my_novel_project"
    ```
    *   `--filepath`: é¡¹ç›®æ–‡ä»¶ä¿å­˜è·¯å¾„ (é»˜è®¤: `./novel_project`)ã€‚
    *   `--topic`: å°è¯´ä¸»é¢˜ (å¿…éœ€)ã€‚
    *   `--genre`: å°è¯´ç±»å‹ (å¿…éœ€)ã€‚
    *   `--num_chapters`: ç« èŠ‚æ•°é‡ (é»˜è®¤: 10)ã€‚
    *   `--word_number`: æ¯ç« å¤§è‡´å­—æ•° (é»˜è®¤: 3000)ã€‚
    *   `--user_guidance`: ç”¨æˆ·è‡ªå®šä¹‰ç”ŸæˆæŒ‡å¯¼ã€‚
    *   å…¶ä»– LLM ç›¸å…³å‚æ•°å¦‚ `--api_key`, `--model_name` ç­‰å¯é€šè¿‡å‘½ä»¤è¡Œè¦†ç›–ï¼Œæˆ–ä» `config.json` è¯»å–ã€‚

3.  **ç”Ÿæˆç« èŠ‚è“å›¾ (`generate-blueprint`)**
    ```bash
    python cli.py generate-blueprint --filepath "./my_novel_project"
    ```
    *   `--filepath`: é¡¹ç›®æ–‡ä»¶è·¯å¾„ï¼Œéœ€åŒ…å« `Novel_architecture.txt` (é»˜è®¤: `./novel_project`)ã€‚
    *   `--user_guidance`: ç”¨æˆ·è‡ªå®šä¹‰ç”ŸæˆæŒ‡å¯¼ã€‚
    *   LLM å‚æ•°åŒä¸Šã€‚

4.  **ç”Ÿæˆç« èŠ‚è‰ç¨¿ (`generate-chapter`)**
    ```bash
    python cli.py generate-chapter --filepath "./my_novel_project" --chapter_num 1
    ```
    *   `--filepath`: é¡¹ç›®æ–‡ä»¶è·¯å¾„ (é»˜è®¤: `./novel_project`)ã€‚
    *   `--chapter_num`: è¦ç”Ÿæˆçš„ç« èŠ‚å· (å¿…éœ€)ã€‚
    *   `--word_number`: æœ¬ç« å¤§è‡´å­—æ•° (é»˜è®¤: 3000)ã€‚
    *   `--user_guidance`: æœ¬ç« çš„ç”¨æˆ·æŒ‡å¯¼ã€‚
    *   `--characters_involved`, `--key_items`, `--scene_location`, `--time_constraint`: ç« èŠ‚ç‰¹å®šå…ƒç´ ã€‚
    *   LLM åŠ Embedding ç›¸å…³å‚æ•°åŒä¸Šæˆ–å¯é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šã€‚

5.  **å¯¼å…¥çŸ¥è¯†æ–‡ä»¶ (`import-knowledge`)**
    ```bash
    python cli.py import-knowledge --filepath "./my_novel_project" --knowledge_file "worldbuilding.md"
    ```
    *   `--filepath`: é¡¹ç›®æ–‡ä»¶è·¯å¾„ (é»˜è®¤: `./novel_project`)ã€‚
    *   `--knowledge_file`: è¦å¯¼å…¥çš„çŸ¥è¯†æ–‡ä»¶å (ä¾‹å¦‚ `worldbuilding.md`, `characters.md`)ã€‚CLIä¼šé¦–å…ˆåœ¨é¡¹ç›®è·¯å¾„ä¸‹æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œä¼šå°è¯•åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `äº‹ä¾‹` æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾ã€‚
    *   Embedding ç›¸å…³å‚æ•°åŒä¸Šæˆ–å¯é€šè¿‡å‘½ä»¤è¡ŒæŒ‡å®šã€‚

6.  **æ¸…ç©ºå‘é‡æ•°æ®åº“ (`clear-vectorstore`)**
    ```bash
    python cli.py clear-vectorstore --filepath "./my_novel_project"
    ```
    *   `--filepath`: é¡¹ç›®æ–‡ä»¶è·¯å¾„ (é»˜è®¤: `./novel_project`)ã€‚

**è·å–å¸®åŠ©:**
```bash
python cli.py --help
python cli.py <command> --help
```
ä¾‹å¦‚ï¼ŒæŸ¥çœ‹ `generate-architecture` å‘½ä»¤çš„å¸®åŠ©ï¼š
```bash
python cli.py generate-architecture --help
```

### **æ–¹å¼ 2ï¼šæ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶**
å¦‚æœä½ æƒ³åœ¨æ—  Python ç¯å¢ƒçš„æœºå™¨ä¸Šä½¿ç”¨æœ¬å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨ **PyInstaller** è¿›è¡Œæ‰“åŒ…ï¼š

```bash
pip install pyinstaller
pyinstaller main.spec
```
æ‰“åŒ…å®Œæˆåï¼Œä¼šåœ¨ `dist/` ç›®å½•ä¸‹ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå¦‚ Windows ä¸‹çš„ `main.exe`ï¼‰ã€‚

---

## ğŸ“˜ ä½¿ç”¨æ•™ç¨‹
1. **å¯åŠ¨åï¼Œå…ˆå®ŒæˆåŸºæœ¬å‚æ•°è®¾ç½®ï¼š**  
   - **API Key & Base URL**ï¼ˆå¦‚ `https://api.openai.com/v1`ï¼‰  
   - **æ¨¡å‹åç§°**ï¼ˆå¦‚ `gpt-3.5-turbo`ã€`gpt-4o` ç­‰ï¼‰  
   - **Temperature** (0~1ï¼Œå†³å®šæ–‡å­—åˆ›æ„ç¨‹åº¦)  
   - **ä¸»é¢˜(Topic)**ï¼ˆå¦‚ â€œåºŸåœŸä¸–ç•Œçš„ AI å›ä¹±â€ï¼‰  
   - **ç±»å‹(Genre)**ï¼ˆå¦‚ â€œç§‘å¹»â€/â€œé­”å¹»â€/â€œéƒ½å¸‚å¹»æƒ³â€ï¼‰  
   - **ç« èŠ‚æ•°**ã€**æ¯ç« å­—æ•°**ï¼ˆå¦‚ 10 ç« ï¼Œæ¯ç« çº¦ 3000 å­—ï¼‰  
   - **ä¿å­˜è·¯å¾„**ï¼ˆå»ºè®®åˆ›å»ºä¸€ä¸ªæ–°çš„è¾“å‡ºæ–‡ä»¶å¤¹ï¼‰

2. **ç‚¹å‡»ã€ŒStep1. ç”Ÿæˆè®¾å®šã€**  
   - ç³»ç»Ÿå°†åŸºäºä¸»é¢˜ã€ç±»å‹ã€ç« èŠ‚æ•°ç­‰ä¿¡æ¯ï¼Œç”Ÿæˆï¼š  
     - `Novel_setting.txt`ï¼šåŒ…å«ä¸–ç•Œè§‚ã€è§’è‰²ä¿¡æ¯ã€é›·ç‚¹æš—çº¿ç­‰ã€‚  
   - å¯ä»¥åœ¨ç”Ÿæˆåçš„ `Novel_setting.txt` ä¸­æŸ¥çœ‹æˆ–ä¿®æ”¹è®¾å®šå†…å®¹ã€‚

3. **ç‚¹å‡»ã€ŒStep2. ç”Ÿæˆç›®å½•ã€**  
   - ç³»ç»Ÿä¼šæ ¹æ®å·²å®Œæˆçš„ `Novel_setting.txt` å†…å®¹ï¼Œä¸ºå…¨éƒ¨ç« èŠ‚ç”Ÿæˆï¼š  
     - `Novel_directory.txt`ï¼šåŒ…æ‹¬æ¯ç« æ ‡é¢˜å’Œç®€è¦æç¤ºã€‚  
   - å¯ä»¥åœ¨ç”Ÿæˆåçš„æ–‡ä»¶ä¸­æŸ¥çœ‹ã€ä¿®æ”¹æˆ–è¡¥å……ç« èŠ‚æ ‡é¢˜å’Œæè¿°ã€‚

4. **ç‚¹å‡»ã€ŒStep3. ç”Ÿæˆç« èŠ‚è‰ç¨¿ã€**  
   - åœ¨ç”Ÿæˆç« èŠ‚ä¹‹å‰ï¼Œä½ å¯ä»¥ï¼š  
     - **è®¾ç½®ç« èŠ‚å·**ï¼ˆå¦‚å†™ç¬¬ 1 ç« ï¼Œå°±å¡« `1`ï¼‰  
     - **åœ¨â€œæœ¬ç« æŒ‡å¯¼â€è¾“å…¥æ¡†**ä¸­æä¾›å¯¹æœ¬ç« å‰§æƒ…çš„ä»»ä½•æœŸæœ›æˆ–æç¤º  
   - ç‚¹å‡»æŒ‰é’®åï¼Œç³»ç»Ÿå°†ï¼š  
     - è‡ªåŠ¨è¯»å–å‰æ–‡è®¾å®šã€`Novel_directory.txt`ã€ä»¥åŠå·²å®šç¨¿ç« èŠ‚  
     - è°ƒç”¨å‘é‡æ£€ç´¢å›é¡¾å‰§æƒ…ï¼Œä¿è¯ä¸Šä¸‹æ–‡è¿è´¯  
     - ç”Ÿæˆæœ¬ç« å¤§çº² (`outline_X.txt`) åŠæ­£æ–‡ (`chapter_X.txt`)  
   - ç”Ÿæˆå®Œæˆåï¼Œä½ å¯åœ¨å·¦ä¾§çš„æ–‡æœ¬æ¡†æŸ¥çœ‹ã€ç¼–è¾‘æœ¬ç« è‰ç¨¿å†…å®¹ã€‚

5. **ç‚¹å‡»ã€ŒStep4. å®šç¨¿å½“å‰ç« èŠ‚ã€**  
   - ç³»ç»Ÿå°†ï¼š  
     - **æ›´æ–°å…¨å±€æ‘˜è¦**ï¼ˆå†™å…¥ `global_summary.txt`ï¼‰  
     - **æ›´æ–°è§’è‰²çŠ¶æ€**ï¼ˆå†™å…¥ `character_state.txt`ï¼‰  
     - **æ›´æ–°å‘é‡æ£€ç´¢åº“**ï¼ˆä¿è¯åç»­ç« èŠ‚å¯ä»¥è°ƒç”¨æœ€æ–°ä¿¡æ¯ï¼‰  
     - **æ›´æ–°å‰§æƒ…è¦ç‚¹**ï¼ˆå¦‚ `plot_arcs.txt`ï¼‰  
   - å®šç¨¿å®Œæˆåï¼Œä½ å¯ä»¥åœ¨ `chapter_X.txt` ä¸­çœ‹åˆ°å®šç¨¿åçš„æ–‡æœ¬ã€‚

6. **ä¸€è‡´æ€§æ£€æŸ¥ï¼ˆå¯é€‰ï¼‰**  
   - ç‚¹å‡»ã€Œ[å¯é€‰] ä¸€è‡´æ€§å®¡æ ¡ã€æŒ‰é’®ï¼Œå¯¹æœ€æ–°ç« èŠ‚è¿›è¡Œå†²çªæ£€æµ‹ï¼Œå¦‚è§’è‰²é€»è¾‘ã€å‰§æƒ…å‰åçŸ›ç›¾ç­‰ã€‚  
   - è‹¥æœ‰å†²çªï¼Œä¼šåœ¨æ—¥å¿—åŒºè¾“å‡ºè¯¦ç»†æç¤ºã€‚

7. **é‡å¤ç¬¬ 4-6 æ­¥** ç›´åˆ°æ‰€æœ‰ç« èŠ‚ç”Ÿæˆå¹¶å®šç¨¿ï¼

> **å‘é‡æ£€ç´¢é…ç½®æç¤º**  
> 1. embeddingæ¨¡å‹éœ€è¦æ˜¾ç¤ºæŒ‡å®šæ¥å£å’Œæ¨¡å‹åç§°ï¼›
> 2. ä½¿ç”¨**æœ¬åœ°Ollama**çš„**Embedding**æ—¶éœ€æå‰å¯åŠ¨OllamaæœåŠ¡ï¼š  
>    ```bash
>    ollama serve  # å¯åŠ¨æœåŠ¡
>    ollama pull nomic-embed-text  # ä¸‹è½½/å¯ç”¨æ¨¡å‹
>    ```
> 3. åˆ‡æ¢ä¸åŒEmbeddingæ¨¡å‹åå»ºè®®æ¸…ç©ºvectorstoreç›®å½•
> 4. äº‘ç«¯Embeddingéœ€ç¡®ä¿å¯¹åº”APIæƒé™å·²å¼€é€š

---

## â“ ç–‘éš¾è§£ç­”
### Q1: Expecting value: line 1 column 1 (char 0)

è¯¥é—®é¢˜å¤§æ¦‚ç‡ç”±äºAPIæœªæ­£ç¡®å“åº”é€ æˆï¼Œä¹Ÿè®¸å“åº”äº†ä¸€ä¸ªhtmlï¼Ÿå…¶å®ƒå†…å®¹ï¼Œå¯¼è‡´å‡ºç°è¯¥æŠ¥é”™ï¼›


### Q2: HTTP/1.1 504 Gateway Timeoutï¼Ÿ
ç¡®è®¤æ¥å£æ˜¯å¦ç¨³å®šï¼›

### Q3: å¦‚ä½•åˆ‡æ¢ä¸åŒçš„Embeddingæä¾›å•†ï¼Ÿ
åœ¨GUIç•Œé¢ä¸­å¯¹åº”è¾“å…¥å³å¯ã€‚

---

å¦‚æœ‰æ›´å¤šé—®é¢˜æˆ–éœ€æ±‚ï¼Œæ¬¢è¿åœ¨**é¡¹ç›® Issues** ä¸­æå‡ºã€‚
